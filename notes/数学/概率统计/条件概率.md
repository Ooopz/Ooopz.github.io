# 条件概率

## 1.条件概率的发生背景

对于概率，相信大家都不会陌生，在各阶段的数学课上，他都是高频出现的常客，最简单的概率场景比如掷骰子，我问你：第一次掷出的点数为 $5$ 的概率为多大？你会毫不犹豫的说出答案：$\frac{1}{6}$。

这太简单了，如果我们只满足于此，就没有什么意义了。接下来我增加一个限定条件：已知在抛出骰子是奇数的情况下，抛掷点数为 $5$ 的可能性有多大？

发现了没有，在第二个问题中我们就没有直接的只问投掷出 $5$ 这个事件的概率，而是增加了一个前提条件：这次抛掷出的点数为奇数。

生活中这类场景更多，我们一般不会直接去推断一个事件发生的可能性，因为这样实际意义并不明显，而且也不容易推断出结果，比如我们问你今天下雨的概率是多大？你可能是一头雾水，什么地点？什么月份？当日云层的厚度？这些条件都没有告诉，我想是无法给出一个有意义、有价值的合理推断的。

而且在实际情况下，一个事件一般而言也不会是孤立的发生，也都会伴随着其他的一些事情或表现一同出现，单独的谈一个事件的概率，一般而言也是不存在的。

因此，在实际的应用中，我们更关心的是条件概率，也就是在给定部分信息的基础上对试验结果的推断。这些给定的信息就是我们附加的条件，是我们研究时关注的重点。

## 2.条件概率的具体描述

这里，我们来具体描述一下条件概率：

假设我们知道给定事件 $B$ 已经发生，在此基础上希望知道另一个事件 $A$ 发生的可能性，此时我们就需要构造出**条件概率**，它需要先顾及事件 $B$ 已经发生的信息，然后再求出事件 $A$ 发生的概率。

这个条件概率描述的就是在给定事件 $B$ 发生的情况下，事件 $A$ 发生的概率，我们专门把他记作：$P(A|B)$。

那我们回到投掷骰子的问题中来，在投出奇数点数骰子的前提下，投出 $5$ 的概率有多大？奇数点数一共有 $\{1,3,5 \}$ 三种，其中出现 $5$ 的概率是 $\frac{1}{3}$。很明显，和单独问投出点数是 $5$ 的概率计算结果是不同的。

下面我们来抽象一下条件概率的场景。

我们再回到最简单、最容易理解的情景下来看，即在古典概率的模式下来分析：假定一个试验有 $N$ 个等可能的结果，事件 $A$ 和 $B$ 分别包含 $M_1$ 个和 $M_2$ 个结果，这其中有 $M_{12}$ 个结果是公共的，这就是同时发生事件 $A$ 和事件 $B$，即 $A\cap B$ 事件所包含的试验结果数。

形象的描述一下上述场景，如图所示：

![附件/机器学习数学/7b03222577a99136e037156fbca4c80a.png](../../附件/机器学习数学/7b03222577a99136e037156fbca4c80a.png)

那我问你，单纯的发生事件 $A$ 和事件 $B$ 的概率是多少？你肯定是脱口而出，分别是 $\frac{M_1}{N}$ 和 $\frac{M_2}{N}$，那进一步到条件概率中来，已知在事件 $B$ 发生的前提条件下，事件 $A$ 发生的概率是多少？

则此时，我们的整体考虑范围由最开始的 $N$ 个全部的可能结果局限到现在的 $M_2$ 个结果，即 $B$ 事件发生的结果范围，而这其中只有 $M_{12}$ 个结果对应事件 $A$ 的发生，那么我们不难计算出，条件概率 $P(A|B)=\frac{M_{12}}{M_2}$ 。

## 3.条件概率的表达式分析

为了更加深入的挖掘这里面的内涵，我们进一步的对条件概率的表达式 $P(A|B)=\frac{M_{12}}{M_2}$ 进行展开：

$$P(A|B)=\frac{M_{12}}{M_2}=\frac{(M_{12}/N)}{(M_2/N)}=\frac{P(AB)}{P(B)}$$

由此，我们得到了条件概率的一般定义：$P(A|B)=\frac{P(AB)}{P(B)}$。
