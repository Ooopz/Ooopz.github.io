---
tags: 前复权 后复权

---

# 前复权与后复权

## 在量化交易回测里，用什么复权方法更好？

### 前复权

使用前复权的*好处*是，**价格是以最新价格为基准，所有有单位的量都是跟最新的价格一致的**。这样算出来的 PnL 的单位，以及查看 PnL 的风险暴露都是以最新的价格单位核算的。这对于对接实盘交易比较方便。

但是前复权的*坏处*也很明显：**只要有股票发生了复权，那么该只股票所有的历史数据都需要重新算一遍**。更可怕的是，**前复权处理用到了未来信息**，所以对于有些因子的回测有很大的影响，可能造成欺骗性。

举个例子，有两只完全相同的股票 A 和 B，股价维持在 10 元，任何策略和因子都应该对这两个股票做相同的待遇处理才是合理的。如果这股票 B 在未来一天分红 2 元，经过前复权后，所有历史股价变为 8 元，那么这两只一模一样的股票价格有了差异且历史数据被修改了。对于有倾向性的选出或者不选出未来会分红送股的股票的因子，回测的时候就是用到了未来信息，倘若分红送股意味着该股票一般是盈利较好的，那么该因子的表现应该也是较好的，倘若送股表示盈利不好，那么对于该因子的回测应该也是较坏的。

==**所以回测时应该选择后复权。**==

### 后复权

这么做数据处理上简单多了，因为后复权的话，之前的数据不会变，也**肯定不会用到未来信息去处理数据**。唯一的*坏处*就是**价格可能跟实盘的价格差距较大，不利于与实盘交易对接**，但是这个问题其实不是问题，因为真要实盘的话，有很多道严格的关卡和程序，这个问题肯定会被解决。同时**凡是涉及到没有单位的清算，比率类如收益率就不会有任何影响**。如果**涉及到价的单位和量的单位，就是有影响的**。

如果使用前复权数据回测，那么要注意，**一定不要用前复权的价格去做横截面排名**，但是时间序列问题是没有任何问题的。
